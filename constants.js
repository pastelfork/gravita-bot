const dotenv = require("dotenv");
dotenv.config();
const ethers = require("ethers");
const { ABI } = require("./abi");
const ETHERSCAN = {
  ETHEREUM: "https://etherscan.io",
  ARBITRUM: "https://arbiscan.io",
  LINEA: "https://lineascan.build",
  MANTLE: "https://explorer.mantle.xyz",
  OPTIMISM: "https://optimistic.etherscan.io",
  POLYGONZKEVM: "https://zkevm.polygonscan.com",
  ZKSYNC: "https://explorer.zksync.io"
};

const ADDRESS = {
  ETHEREUM: {
    VESSEL_MANAGER_OPERATIONS: "0xc49B737fa56f9142974a54F6C66055468eC631d0",
    BORROWER_OPERATIONS: "0x2bCA0300c2aa65de6F19c2d241B54a445C9990E2",
    VESSEL_MANAGER: "0xdB5DAcB1DFbe16326C3656a88017f0cB4ece0977",
    ADMIN: "0x89F1ecCF2644902344db02788A790551Bb070351",
    PRICEFEED: "0x89F1ecCF2644902344db02788A790551Bb070351",
    FEECOLLECTOR: "0x4928c8F8c20A1E3C295DddBe05095A9aBBdB3d14",
    // TOKENS: [
    //   { NAME: "RETH", ADDRESS: "0xae78736Cd615f374D3085123A210448E74Fc6393" },
    //   { NAME: "WSTETH", ADDRESS: "0x7f39C581F595B53c5cb19bD0b3f8dA6c935E2Ca0" },
    //   { NAME: "BLUSD", ADDRESS: "0xB9D7DdDca9a4AC480991865EfEf82E01273F79C3" },
    //   { NAME: "SWETH", ADDRESS: "0xf951E335afb289353dc249e82926178EaC7DEd78" },
    // ],
  },

  ARBITRUM: {
    VESSEL_MANAGER_OPERATIONS: "0x15f74458aE0bFdAA1a96CA1aa779D715Cc1Eefe4",
    VESSEL_MANAGER: "0x6AdAA3eBa85c77e8566b73AEfb4C2f39Df4046Ca",
    BORROWER_OPERATIONS: "0x89F1ecCF2644902344db02788A790551Bb070351",
    ADMIN: "0x4928c8F8c20A1E3C295DddBe05095A9aBBdB3d14",
    PRICEFEED: "0xF0e0915D233C616CB727E0b2Ca29ff0cbD51B66A",
    FEECOLLECTOR: "0xdB5DAcB1DFbe16326C3656a88017f0cB4ece0977",
    // TOKENS: [
    //   { NAME: "RETH", ADDRESS: "0xEC70Dcb4A1EFa46b8F2D97C310C9c4790ba5ffA8" },
    //   { NAME: "WSTETH", ADDRESS: "0x5979D7b546E38E414F7E9822514be443A4800529" },
    //   { NAME: "WETH", ADDRESS: "0x82aF49447D8a07e3bd95BD0d56f35241523fBab1" },
    // ],
  },

  LINEA: {
    VESSEL_MANAGER_OPERATIONS: "0x53525a62e55B6002792B993a2C27Af70d12443e4",
    VESSEL_MANAGER: "0xdC44093198ee130f92DeFed22791aa8d8df7fBfA",
    BORROWER_OPERATIONS: "0x40E0e274A42D9b1a9D4B64dC6c46D21228d45C20",
    ADMIN: "0xC8a25eA0Cbd92A6F787AeED8387E04559053a9f8",
    PRICEFEED: "0xAD1B9867BEFD148c9476B9Dd1e7C749bFcefbB2e",
    FEECOLLECTOR: "0x9D8bB5496332cbeeD59f1211f28dB8b5Eb214B6D",
    // TOKENS: [
    //   { NAME: "RETH", ADDRESS: "0xEC70Dcb4A1EFa46b8F2D97C310C9c4790ba5ffA8" },
    //   { NAME: "WSTETH", ADDRESS: "0x5979D7b546E38E414F7E9822514be443A4800529" },
    //   { NAME: "WETH", ADDRESS: "0x82aF49447D8a07e3bd95BD0d56f35241523fBab1" },
    // ],
  },

  MANTLE: {
    VESSEL_MANAGER_OPERATIONS: "0x10308774e482e16671d8DCc847AC6b701f516611",
    VESSEL_MANAGER: "0x5C3B45c9F9C6e3d37De94BC03318622D3DD3f525",
    BORROWER_OPERATIONS: "0xdB5DAcB1DFbe16326C3656a88017f0cB4ece0977",
    ADMIN: "0x4F39F12064D83F6Dd7A2BDb0D53aF8be560356A6",
    PRICEFEED: "0x53525a62e55B6002792B993a2C27Af70d12443e4",
    FEECOLLECTOR: "0x6AdAA3eBa85c77e8566b73AEfb4C2f39Df4046Ca",
    // TOKENS: [
    //   { NAME: "RETH", ADDRESS: "0xEC70Dcb4A1EFa46b8F2D97C310C9c4790ba5ffA8" },
    //   { NAME: "WSTETH", ADDRESS: "0x5979D7b546E38E414F7E9822514be443A4800529" },
    //   { NAME: "WETH", ADDRESS: "0x82aF49447D8a07e3bd95BD0d56f35241523fBab1" },
    // ],
  },

  OPTIMISM: {
    VESSEL_MANAGER_OPERATIONS: "0x5Bd5b45f6565762928A79779F6C2DD43c15c92EE",
    VESSEL_MANAGER: "0x40E0e274A42D9b1a9D4B64dC6c46D21228d45C20",
    BORROWER_OPERATIONS: "0x82e34E39126190e622EBb2801e047D587AC94c5D",
    ADMIN: "0x326398De2dB419Ee39F97600a5eeE97093cf3B27",
    PRICEFEED: "0x15f74458aE0bFdAA1a96CA1aa779D715Cc1Eefe4",
    FEECOLLECTOR: "0x24aE02776B3C76Cb20caf4EA24f8a8Bd438B09E7",
    // TOKENS: [
    //   { NAME: "RETH", ADDRESS: "0xEC70Dcb4A1EFa46b8F2D97C310C9c4790ba5ffA8" },
    //   { NAME: "WSTETH", ADDRESS: "0x5979D7b546E38E414F7E9822514be443A4800529" },
    //   { NAME: "WETH", ADDRESS: "0x82aF49447D8a07e3bd95BD0d56f35241523fBab1" },
    // ],
  },

  POLYGONZKEVM: {
    VESSEL_MANAGER_OPERATIONS: "0x9D8bB5496332cbeeD59f1211f28dB8b5Eb214B6D",
    VESSEL_MANAGER: "0x57a1953bF194A1EF73396e442Ac7Dc761dCd23cc",
    BORROWER_OPERATIONS: "0xC818f878F27D0273Fb53B71d281C82921F0aF15c",
    ADMIN: "0x6b42581aC12F442503Dfb3dff2bC75ed83850637",
    PRICEFEED: "0x5C3B45c9F9C6e3d37De94BC03318622D3DD3f525",
    FEECOLLECTOR: "0xC8a25eA0Cbd92A6F787AeED8387E04559053a9f8",
    // TOKENS: [
    //   { NAME: "RETH", ADDRESS: "0xEC70Dcb4A1EFa46b8F2D97C310C9c4790ba5ffA8" },
    //   { NAME: "WSTETH", ADDRESS: "0x5979D7b546E38E414F7E9822514be443A4800529" },
    //   { NAME: "WETH", ADDRESS: "0x82aF49447D8a07e3bd95BD0d56f35241523fBab1" },
    // ],
  },

  ZKSYNC: {
    VESSEL_MANAGER_OPERATIONS: "0x03569d4c117f94e72e9f63B06F406c5bc7caddE9",
    VESSEL_MANAGER: "0x8D9CDd9372740933702d606EaD3BB55dFfDC6303",
    BORROWER_OPERATIONS: "0xd085Fd2338Cefb9cBD212F74d479072C1E7A25bf",
    ADMIN: "0x441F6b484FD60C31b3ca9c61014030b0403F805a",
    PRICEFEED: "0x086D0981204b3e603Bf8b70D42680DA10b4dDa31",
    FEECOLLECTOR: "0x1B137F2a2257959B1D4F61586d56295ce4d62Dcf",
    // TOKENS: [
    //   { NAME: "RETH", ADDRESS: "0xEC70Dcb4A1EFa46b8F2D97C310C9c4790ba5ffA8" },
    //   { NAME: "WSTETH", ADDRESS: "0x5979D7b546E38E414F7E9822514be443A4800529" },
    //   { NAME: "WETH", ADDRESS: "0x82aF49447D8a07e3bd95BD0d56f35241523fBab1" },
    // ],
  },
};

const TOPICS = {
  VESSEL_CREATED:
    "0xc4acb8f55d18541d201c0e84984eacc725592d1043776db306c00720b2a503ff",
  LIQUIDATION:
    "0xa3f221854f649364e9a3bb384dd1ff938482664f4a0eac0f6e39a542f5193bd3",
  REDEMPTION: 
    "0x08b6f1ce3f9ab2722e8ea40c31a3e3a806a41702c5994f29af43dc0c1f2837df",
};

const FILTERS = {
  ETHEREUM: {
    VESSEL_CREATED: {
      address: ADDRESS["ETHEREUM"].BORROWER_OPERATIONS,
      topics: [TOPICS.VESSEL_CREATED],
    },
    LIQUIDATION: {
      address: ADDRESS["ETHEREUM"].VESSEL_MANAGER_OPERATIONS,
      topics: [TOPICS.LIQUIDATION]
    },
    REDEMPTION: {
      address: ADDRESS["ETHEREUM"].VESSEL_MANAGER_OPERATIONS,
      topics: [TOPICS.REDEMPTION]
    }
  },
  ARBITRUM: {
    VESSEL_CREATED: {
      address: ADDRESS["ARBITRUM"].BORROWER_OPERATIONS,
      topics: [TOPICS.VESSEL_CREATED],
    },
    LIQUIDATION: {
      address: ADDRESS["ARBITRUM"].VESSEL_MANAGER_OPERATIONS,
      topics: [TOPICS.LIQUIDATION]
    },
    REDEMPTION: {
      address: ADDRESS["ARBITRUM"].VESSEL_MANAGER_OPERATIONS,
      topics: [TOPICS.REDEMPTION]
    }
  },
  LINEA: {
    VESSEL_CREATED: {
      address: ADDRESS["LINEA"].BORROWER_OPERATIONS,
      topics: [TOPICS.VESSEL_CREATED],
    },
    LIQUIDATION: {
      address: ADDRESS["LINEA"].VESSEL_MANAGER_OPERATIONS,
      topics: [TOPICS.LIQUIDATION]
    },
    REDEMPTION: {
      address: ADDRESS["LINEA"].VESSEL_MANAGER_OPERATIONS,
      topics: [TOPICS.REDEMPTION]
    }
  },
  MANTLE: {
    VESSEL_CREATED: {
      address: ADDRESS["MANTLE"].BORROWER_OPERATIONS,
      topics: [TOPICS.VESSEL_CREATED],
    },
    LIQUIDATION: {
      address: ADDRESS["MANTLE"].VESSEL_MANAGER_OPERATIONS,
      topics: [TOPICS.LIQUIDATION]
    },
    REDEMPTION: {
      address: ADDRESS["MANTLE"].VESSEL_MANAGER_OPERATIONS,
      topics: [TOPICS.REDEMPTION]
    }
  },
  OPTIMISM: {
    VESSEL_CREATED: {
      address: ADDRESS["OPTIMISM"].BORROWER_OPERATIONS,
      topics: [TOPICS.VESSEL_CREATED],
    },
    LIQUIDATION: {
      address: ADDRESS["OPTIMISM"].VESSEL_MANAGER_OPERATIONS,
      topics: [TOPICS.LIQUIDATION]
    },
    REDEMPTION: {
      address: ADDRESS["OPTIMISM"].VESSEL_MANAGER_OPERATIONS,
      topics: [TOPICS.REDEMPTION]
    }
  },
  POLYGONZKEVM: {
    VESSEL_CREATED: {
      address: ADDRESS["POLYGONZKEVM"].BORROWER_OPERATIONS,
      topics: [TOPICS.VESSEL_CREATED],
    },
    LIQUIDATION: {
      address: ADDRESS["POLYGONZKEVM"].VESSEL_MANAGER_OPERATIONS,
      topics: [TOPICS.LIQUIDATION]
    },
    REDEMPTION: {
      address: ADDRESS["POLYGONZKEVM"].VESSEL_MANAGER_OPERATIONS,
      topics: [TOPICS.REDEMPTION]
    }
  },
  ZKSYNC: {
    VESSEL_CREATED: {
      address: ADDRESS["ZKSYNC"].BORROWER_OPERATIONS,
      topics: [TOPICS.VESSEL_CREATED],
    },
    LIQUIDATION: {
      address: ADDRESS["ZKSYNC"].VESSEL_MANAGER_OPERATIONS,
      topics: [TOPICS.LIQUIDATION]
    },
    REDEMPTION: {
      address: ADDRESS["ZKSYNC"].VESSEL_MANAGER_OPERATIONS,
      topics: [TOPICS.REDEMPTION]
    }
  },
};

const ENDPOINTS = {
  ETHEREUM: "https://eth-mainnet.g.alchemy.com/v2/" + process.env.ALCHEMY_KEY,
  ARBITRUM: "https://arb-mainnet.g.alchemy.com/v2/" + process.env.ALCHEMY_KEY,
  LINEA: "https://linea-mainnet.g.alchemy.com/v2/" + process.env.ALCHEMY_KEY,
  MANTLE: "https://mantle-mainnet.g.alchemy.com/v2/" + process.env.ALCHEMY_KEY,
  OPTIMISM: "https://opt-mainnet.g.alchemy.com/v2/" + process.env.ALCHEMY_KEY,
  POLYGONZKEVM: "https://polygonzkevm-mainnet.g.alchemy.com/v2/" + process.env.ALCHEMY_KEY,
  ZKSYNC: "https://zksync-mainnet.g.alchemy.com/v2/" + process.env.ALCHEMY_KEY,
};

// console.log(ENDPOINTS["ETHEREUM"])
const PROVIDERS = {
  ETHEREUM: new ethers.providers.JsonRpcProvider(ENDPOINTS["ETHEREUM"]),
  ARBITRUM: new ethers.providers.JsonRpcProvider(ENDPOINTS["ARBITRUM"]),
  LINEA: new ethers.providers.JsonRpcProvider(ENDPOINTS["LINEA"]),
  MANTLE: new ethers.providers.JsonRpcProvider(ENDPOINTS["MANTLE"]),
  OPTIMISM: new ethers.providers.JsonRpcProvider(ENDPOINTS["OPTIMISM"]),
  POLYGONZKEVM: new ethers.providers.JsonRpcProvider(ENDPOINTS["POLYGONZKEVM"]),
  ZKSYNC: new ethers.providers.JsonRpcProvider(ENDPOINTS["ZKSYNC"]),
};

const CONTRACTS = {
  ETHEREUM: {
    VESSEL_MANAGER_OPERATIONS: new ethers.Contract(
      ADDRESS["ETHEREUM"].VESSEL_MANAGER_OPERATIONS,
      ABI.VESSEL_MANAGER_OPERATIONS,
      PROVIDERS["ETHEREUM"]
    ),
    VESSEL_MANAGER: new ethers.Contract(
      ADDRESS["ETHEREUM"].VESSEL_MANAGER,
      ABI.VESSEL_MANAGER,
      PROVIDERS["ETHEREUM"]
    ),
    BORROWER_OPERATIONS: new ethers.Contract(
      ADDRESS["ETHEREUM"].BORROWER_OPERATIONS,
      ABI.BORROWER_OPERATIONS,
      PROVIDERS["ETHEREUM"]
    ),
    ADMIN: new ethers.Contract(
      ADDRESS["ETHEREUM"].ADMIN,
      ABI.ADMIN,
      PROVIDERS["ETHEREUM"]
    ),
    PRICEFEED: new ethers.Contract(
      ADDRESS["ETHEREUM"].PRICEFEED,
      ABI.PRICEFEED,
      PROVIDERS["ETHEREUM"]
    ),
  },
  ARBITRUM: {
    VESSEL_MANAGER_OPERATIONS: new ethers.Contract(
      ADDRESS["ARBITRUM"].VESSEL_MANAGER_OPERATIONS,
      ABI.VESSEL_MANAGER_OPERATIONS,
      PROVIDERS["ARBITRUM"]
    ),
    VESSEL_MANAGER: new ethers.Contract(
      ADDRESS["ARBITRUM"].VESSEL_MANAGER,
      ABI.VESSEL_MANAGER,
      PROVIDERS["ARBITRUM"]
    ),
    BORROWER_OPERATIONS: new ethers.Contract(
      ADDRESS["ARBITRUM"].BORROWER_OPERATIONS,
      ABI.BORROWER_OPERATIONS,
      PROVIDERS["ARBITRUM"]
    ),
    ADMIN: new ethers.Contract(
      ADDRESS["ARBITRUM"].ADMIN,
      ABI.ADMIN,
      PROVIDERS["ARBITRUM"]
    ),
    PRICEFEED: new ethers.Contract(
      ADDRESS["ARBITRUM"].PRICEFEED,
      ABI.PRICEFEEDL2,
      PROVIDERS["ARBITRUM"]
    ),
  },
  LINEA: {
    VESSEL_MANAGER_OPERATIONS: new ethers.Contract(
      ADDRESS["LINEA"].VESSEL_MANAGER_OPERATIONS,
      ABI.VESSEL_MANAGER_OPERATIONS,
      PROVIDERS["LINEA"]
    ),
    VESSEL_MANAGER: new ethers.Contract(
      ADDRESS["LINEA"].VESSEL_MANAGER,
      ABI.VESSEL_MANAGER,
      PROVIDERS["LINEA"]
    ),
    BORROWER_OPERATIONS: new ethers.Contract(
      ADDRESS["LINEA"].BORROWER_OPERATIONS,
      ABI.BORROWER_OPERATIONS,
      PROVIDERS["LINEA"]
    ),
    ADMIN: new ethers.Contract(
      ADDRESS["LINEA"].ADMIN,
      ABI.ADMIN,
      PROVIDERS["LINEA"]
    ),
    PRICEFEED: new ethers.Contract(
      ADDRESS["LINEA"].PRICEFEED,
      ABI.PRICEFEEDL2,
      PROVIDERS["LINEA"]
    ),
  },
  MANTLE: {
    VESSEL_MANAGER_OPERATIONS: new ethers.Contract(
      ADDRESS["MANTLE"].VESSEL_MANAGER_OPERATIONS,
      ABI.VESSEL_MANAGER_OPERATIONS,
      PROVIDERS["MANTLE"]
    ),
    VESSEL_MANAGER: new ethers.Contract(
      ADDRESS["MANTLE"].VESSEL_MANAGER,
      ABI.VESSEL_MANAGER,
      PROVIDERS["MANTLE"]
    ),
    BORROWER_OPERATIONS: new ethers.Contract(
      ADDRESS["MANTLE"].BORROWER_OPERATIONS,
      ABI.BORROWER_OPERATIONS,
      PROVIDERS["MANTLE"]
    ),
    ADMIN: new ethers.Contract(
      ADDRESS["MANTLE"].ADMIN,
      ABI.ADMIN,
      PROVIDERS["MANTLE"]
    ),
    PRICEFEED: new ethers.Contract(
      ADDRESS["MANTLE"].PRICEFEED,
      ABI.PRICEFEEDL2,
      PROVIDERS["MANTLE"]
    ),
  },
  OPTIMISM: {
    VESSEL_MANAGER_OPERATIONS: new ethers.Contract(
      ADDRESS["OPTIMISM"].VESSEL_MANAGER_OPERATIONS,
      ABI.VESSEL_MANAGER_OPERATIONS,
      PROVIDERS["OPTIMISM"]
    ),
    VESSEL_MANAGER: new ethers.Contract(
      ADDRESS["OPTIMISM"].VESSEL_MANAGER,
      ABI.VESSEL_MANAGER,
      PROVIDERS["OPTIMISM"]
    ),
    BORROWER_OPERATIONS: new ethers.Contract(
      ADDRESS["OPTIMISM"].BORROWER_OPERATIONS,
      ABI.BORROWER_OPERATIONS,
      PROVIDERS["OPTIMISM"]
    ),
    ADMIN: new ethers.Contract(
      ADDRESS["OPTIMISM"].ADMIN,
      ABI.ADMIN,
      PROVIDERS["OPTIMISM"]
    ),
    PRICEFEED: new ethers.Contract(
      ADDRESS["OPTIMISM"].PRICEFEED,
      ABI.PRICEFEEDL2,
      PROVIDERS["OPTIMISM"]
    ),
  },
  POLYGONZKEVM: {
    VESSEL_MANAGER_OPERATIONS: new ethers.Contract(
      ADDRESS["POLYGONZKEVM"].VESSEL_MANAGER_OPERATIONS,
      ABI.VESSEL_MANAGER_OPERATIONS,
      PROVIDERS["POLYGONZKEVM"]
    ),
    VESSEL_MANAGER: new ethers.Contract(
      ADDRESS["POLYGONZKEVM"].VESSEL_MANAGER,
      ABI.VESSEL_MANAGER,
      PROVIDERS["POLYGONZKEVM"]
    ),
    BORROWER_OPERATIONS: new ethers.Contract(
      ADDRESS["POLYGONZKEVM"].BORROWER_OPERATIONS,
      ABI.BORROWER_OPERATIONS,
      PROVIDERS["POLYGONZKEVM"]
    ),
    ADMIN: new ethers.Contract(
      ADDRESS["POLYGONZKEVM"].ADMIN,
      ABI.ADMIN,
      PROVIDERS["POLYGONZKEVM"]
    ),
    PRICEFEED: new ethers.Contract(
      ADDRESS["POLYGONZKEVM"].PRICEFEED,
      ABI.PRICEFEEDL2,
      PROVIDERS["POLYGONZKEVM"]
    ),
  },
  ZKSYNC: {
    VESSEL_MANAGER_OPERATIONS: new ethers.Contract(
      ADDRESS["ZKSYNC"].VESSEL_MANAGER_OPERATIONS,
      ABI.VESSEL_MANAGER_OPERATIONS,
      PROVIDERS["ZKSYNC"]
    ),
    VESSEL_MANAGER: new ethers.Contract(
      ADDRESS["ZKSYNC"].VESSEL_MANAGER,
      ABI.VESSEL_MANAGER,
      PROVIDERS["ZKSYNC"]
    ),
    BORROWER_OPERATIONS: new ethers.Contract(
      ADDRESS["ZKSYNC"].BORROWER_OPERATIONS,
      ABI.BORROWER_OPERATIONS,
      PROVIDERS["ZKSYNC"]
    ),
    ADMIN: new ethers.Contract(
      ADDRESS["ZKSYNC"].ADMIN,
      ABI.ADMIN,
      PROVIDERS["ZKSYNC"]
    ),
    PRICEFEED: new ethers.Contract(
      ADDRESS["ZKSYNC"].PRICEFEED,
      ABI.PRICEFEEDL2,
      PROVIDERS["ZKSYNC"]
    ),
  },
};
module.exports = { PROVIDERS, FILTERS, ADDRESS, CONTRACTS, ETHERSCAN, ABI };
